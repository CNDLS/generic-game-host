{% extends "base.html" %}
{% load staticfiles %}

{% block comment %}
	THE GAME_CONTENT.HTML TEMPLATE CAN BE UNIQUE TO EACH GAME. THIS ALLOWS UNIQUE MARKUP, GLOABAL VARIABLES, AND UTILITY SCRIPTS.
{% endblock %}

{% block css %}
  {% if game_css %}
    <link href="{{ MEDIA_URL }}uploads/custom_css/{{ game_css }}" media="screen, print" rel="stylesheet" type="text/css" />
  {% endif %}
{% endblock %}

{% block content %}
  <div id="content">
    <div id="top">
      <textarea id="clock" readonly></textarea>
      <textarea id="scoreboard" readonly></textarea>
      <h1 id="title">&nbsp;</h1>
    
      <div class="right">
        <span class="replay"><a href="#" onclick="window.location.reload();"><img src="{{ STATIC_URL }}img/reload.png"/>replay</a></span>
        {% if current_user.is_staff %}
          <a href="{% url 'list' %}">list of games</a>
        {% endif %}
        <a href="{% url 'logout' %}">logout</a>
      </div>

    </div><!-- end of #top --> 

    <div id="game">
      {% if game_content_template %}{% include game_content_template %}{% endif %}
	  <div id="cards"></div><!-- default card container -->
    </div><!-- end of #game -->
  
  </div><!-- end of #content -->


  <!-- this is a template to describe how to lay out a card. classes will distinguish between types of cards. -->
  <script id="card_template" type="text/template">
    <div class="card">
      <div class="front"><h2 class="label"></h2></div>
      <div class="back">&nbsp;</div>
    </div>
  </script>
{% endblock %}

{% block js %}
		<script type="text/javascript" src="{{ STATIC_URL }}js/state-machine.js" ></script>
		<script type="text/javascript" src="{{ STATIC_URL }}js/utils.js" ></script>
		<script type="text/javascript" src="{{ STATIC_URL }}js/game.js" ></script>
		<script type="text/javascript" src="{{ STATIC_URL }}js/game_utils.js" ></script>
		<script type="text/javascript" src="{{ STATIC_URL }}js/js-yaml.js" ></script>
		<script type="text/javascript" id="reader" src="{{ STATIC_URL }}js/yaml-reader.js"  read-from="{{ AJAX_PREFIX }}/read/{{ game.id }}/"></script>
		<script type="text/javascript" id="reporter" src="{{ STATIC_URL }}js/reporting.js"  report-to="{{ AJAX_PREFIX }}/write/{{ game.id }}/" csrftoken="{{ csrf_token }}"></script>
{% endblock %}